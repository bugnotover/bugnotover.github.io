"use strict";function _typeof3(e){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof3(e)})(e)}window.YL={info:{softwareName:"YLUI",version:window.yluiVersion,iconBtnStart:"yoast",author:"Yuri2",contactInformation:"yuri2peter@qq.com",officialWebsite:"https://ylui.yuri2.cn",copyrightDetail:"YLUI已授权本产品使用。YLUI禁止任何未经作者授权的使用、修改、二次发布，包括从本产品中剥离YLUI独立使用等侵权行为，违者将追究法律责任。",otherStatements:""},data:{},lang:function(e){return YL.static.languages[YL.static.lang]?YL.static.languages[YL.static.lang][e]:""},readyStack:[],loadStack:[],_baseData:function(){return{configs:{topTaskBar:!0,sound:!1,wallpaper:"./res/img/wallpapers/bg1.jpg",wallpaperBlur:!1,wallpaperSlide:!1,wallpaperSlideRandom:!1,wallpaperSlideItv:.1,wallpaperSlideTime:Date.now(),wallpaperSlideIndex:0,openMax:9,idCounter:0,themeColor:"black",autoThemeColor:!0,wallpapers:[]},runtime:{ready:!1,clientSize:{width:0,height:0},desktopSize:{width:0,height:0},startMenu:{width:0,height:0,drag:{x:0,y:0,mDown:!1}},isSmallScreen:!1,isHorizontalScreen:!0,lang:"zh-cn",winActive:null,winActiveTime:Date.now(),drag:!1,time:"",winOpenCounter:0,winOpened:0,data:{},shortcutsShow:!0,pluginIconsOpen:!1,CalendarOpen:!1,tileSize:0,tilesWidth:0,tilesGroupNum:1,wallpaper:"",wallpaperScale:1,shortcutNewParamName:"",shortcutNewParamValue:"",isIE:!1,menuItemCut:null,tileMoved:!1,customTileRandomToken:YL.util.randInt(1e3,9999),shortcutsGrid:{x:0,y:0},shortcutInsert:null,shortcutOver:null,menuOnLeft:!0,shortcutWidth:0,shortcutHeight:0,shortcutOpenedAt:Date.now()},appStore:[],apps:{},shortcuts:[],tiles:[],startMenu:{open:!1,width:800,height:600,sidebar:{open:!1,btns:[]},menu:{}},center:{open:!1,unread:0,msgNum:0,msg:{}},wins:{},msgPres:{},drawer:null,shortSetting:null}},init:function(e){e=e||(localStorage.getItem(YL.static.localStorageName)?JSON.parse(localStorage.getItem(YL.static.localStorageName)):this._baseData()),e=YL.format(e),$("#loading").remove(),YL.render(e),this.readyStack.forEach(function(e){e()})},reset:function(){var e,t=this._baseData(),n=YL.vue;for(e in t)"apps"!==e&&n.$set(n,e,t[e]);n.$set(n,"apps",{})},msg:function(e,t){t={title:e,content:t,key:Math.random()};this.vue.setWithID(this.vue.center.msg,t,"msg-"),this.vue.center.open||this.vue.center.unread++,this.vue.center.msgNum++;var n,i,a={};for(n in this.vue.msgPres)(i=this.vue.msgPres[n])&&(a[i.index]=!0);for(var o=0;o<99&&a[o];o++);var r=this.vue.setWithID(this.vue.msgPres,Yuri2.jsonMerge(t,{index:o}),"msgPre-");setTimeout(function(){YL.vue.msgPres[r]=null},5e3)},open:function(e,t){return"object"===(void 0===e?"undefined":_typeof3(e))&&(e=Yuri2.jsonMerge(this.util.getAppDataTemplate(),e)),this.vue.appOpen(e,t)},aboutUs:function(){this.open("yl-system",{data:{nav:"aboutUs"}})},uninstall:function(o){if(Yuri2.inArray(YL.static.lockedApps,o))return this.util.simpleMsg(YL.lang("UninstallFailed")+YL.lang("AppLockedCanNotChange")),!1;for(var r=this.vue,e=r.shortcuts.length-1;0<=e;e--){var t=r.shortcuts[e];if(t.children)for(var n=t.children.length-1;0<=n;n--)t.children[n].app===o&&t.children.splice(n,1);else t.app===o&&r.shortcuts.splice(e,1)}(function e(t){var n,i=t?t.children:r.startMenu.menu;for(n in i){var a=i[n];a.app===o&&r.$delete(i,n),a.children&&e(a)}})();for(e=r.startMenu.sidebar.btns.length-1;0<=e;e--)r.startMenu.sidebar.btns[e].app===o&&r.startMenu.sidebar.btns.splice(e,1);return r.tiles.forEach(function(e){for(var t=e.data.length-1;0<=t;t--)e.data[t].app===o&&e.data.splice(t,1)}),r.$delete(r.apps,o),!0},addApp:function(e,t){if(Yuri2.inArray(YL.static.lockedApps,e))return this.util.simpleMsg(YL.lang("AddAppFailed")+YL.lang("AppLockedCanNotChange")),!1;var n=this.util.getAppDataTemplate();return(n=Yuri2.jsonMerge(n,t)).url=YL.util.removeUrlRandomToken(n.url),this.vue.$set(this.vue.apps,e,n),!0},addShortcut:function(e){var t,n=this.vue,i={app:"",title:"",params:{},hash:"",drag:{mDown:!1,left:0,top:0}};i="string"==typeof e?(t=n.apps[e],Yuri2.jsonMerge(i,{app:e,title:t.title})):Yuri2.jsonMerge(i,e),n.shortcuts.push(i)},addMenuItem:function(e){var t,n=this.vue,i={app:"",title:"",params:{},hash:""};i="string"==typeof e?(t=n.apps[e],Yuri2.jsonMerge(i,{app:e,title:t.title})):Yuri2.jsonMerge(i,e),n.setWithID(n.startMenu.menu,i,"itemPushed-")},addSidebarBtn:function(e){var t,n=this.vue,i={app:"",title:"",params:{},hash:""};i="string"==typeof e?(t=n.apps[e],Yuri2.jsonMerge(i,{app:e,title:t.title})):Yuri2.jsonMerge(i,e),n.startMenu.sidebar.btns.unshift(i)},addTile:function(e,t){var n=this.vue;t=t||0;var i=this.vue;i.tiles.length<=0&&this.addTileGroup();var a={x:0,y:99,w:2,h:2,app:"",title:"",i:YL.util.getID()+"",params:{},hash:""};a="string"==typeof e?(n=n.apps[e],Yuri2.jsonMerge(a,{app:e,title:n.title})):Yuri2.jsonMerge(a,e),i.tiles[t].data.push(a)},addTileGroup:function(e){var t=this.vue,e=e||YL.util.getID();return t.tiles.push({title:"分组"+e,data:[]}),t.tiles.length-1},setThemeColor:function(e){this.vue.configs.themeColor=e},debug:function(e){YL.static.debug&&console.log(e)},onLoad:function(e){this.loadStack.push(e)},onReady:function(e){this.readyStack.push(e)},loadRes:function(){var t=this,e="./res",i=0,a="...";document.getElementById("loading-box").style.display="block",document.getElementById("loading-software-name").innerHTML=YL.static.softwareName,document.getElementById("loading-lang-init").innerHTML=YL.lang("LoadingInitializing"),document.getElementById("loading-powered-by").innerHTML=YL.lang("LoadingPoweredBy"),document.title=YL.static.softwareName;var o=!1,n=setInterval(function(){var e=parseInt(i/24*100);document.getElementById("on-load-file-name").innerHTML=YL.static.debug?a:YL.lang("LoadingStandby"),document.getElementById("text-percent").innerHTML=e+"%";var t=3.6*e,n=t-180;0<n&&(n=0),!o&&50<=e&&setTimeout(function(){o=!0},500);t-=360;t<-180&&(t=-180),o&&(document.getElementById("loading-left").style.transform="rotate("+t+"deg)"),document.getElementById("loading-right").style.transform="rotate("+n+"deg)"},200),r="?v="+YL.info.version;YL.util.loadScript(e+"/components/jquery-2.2.4.min.js",function(){a="jquery-2.2.4.min.js",i++,YL.util.loadScript(e+"/components/contextMenu/contextMenu.js"+r,function(){a="contextMenu.js",i++}),YL.util.loadStyle(e+"/components/contextMenu/contextMenu.css"+r,function(){a="contextMenu.css",i++}),YL.util.loadScript(e+"/components/jquery.nicescroll.min.js",function(){a="jquery.nicescroll.min.js",i++}),YL.util.loadScript(e+"/components/layer-v3.0.3/layer/layer.full.js",function(){a="layer.full.js",i++})}),YL.util.loadStyle(e+"/css/main.css"+r,function(){a="main.css",i++}),YL.util.loadStyle(e+"/css/yl-layer-skin.css"+r,function(){a="yl-layer-skin.css",i++}),YL.util.loadStyle(e+"/components/layer-v3.0.3/layer/skin/default/layer.css"+r,function(){a="layer.css",i++}),YL.util.loadStyle(e+"/css/tiles.css"+r,function(){a="tiles.css",i++}),YL.util.loadStyle(e+"/components/animate.css"+r,function(){a="animate.css",i++}),YL.util.loadScript(e+"/js/Yuri2.js"+r,function(){a="Yuri2.js",i++}),YL.util.loadStyle(e+"/components/font-awesome-4.7.0/css/font-awesome.min.css",function(){a="font-awesome.min.css",i++}),YL.util.loadPrefetch(e+"/components/font-awesome-4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0",function(){a="fontawesome-webfont.woff2",i++}),YL.util.loadPrefetch(e+"/apps/element-ui/fonts/element-icons.woff?t=1510834658947",function(){a="element-icons.woff",i++}),YL.util.loadPrefetch(e+"/apps/element-ui/index.css",function(){a="element-index.css",i++}),YL.util.loadPrefetch(e+"/apps/element-ui/index.js",function(){a="element-index.js",i++}),YL.util.loadScript(e+"/components/vue.min.js",function(){a="vue.min.js",i++,YL.util.loadScript(e+"/components/vue-grid-layout-2.1.11.min.js",function(){a="vue-grid-layout.min.js",i++}),YL.util.loadScript(e+"/js/yl-vue-component-icon.js"+r,function(){a="yl-vue-component-icon.js",i++}),YL.util.loadScript(e+"/js/yl-vue-components.js"+r,function(){a="yl-vue-components.js",i++})}),YL.util.loadScript(e+"/js/yl-render.js"+r,function(){a="yl-render",i++}),YL.util.loadScript(e+"/js/yl-io.js"+r,function(){a="yl-io",i++}),YL.util.loadScript(e+"/components/calendar/script.js"+r,function(){a="calendar.script",i++}),YL.util.loadStyle(e+"/components/calendar/style.css"+r,function(){a="calendar.style",i++});var s=Date.now(),l=setInterval(function(){var e=Date.now()-s<500;e||(document.getElementById("loading").style.opacity=1),24===i&&(clearInterval(l),a="Complete",setTimeout(function(){clearInterval(n),t.loadStack.forEach(function(e){e()}),$("#loading").remove()},e?0:1e3))},100)},f5:function(){YL.static.beforeOnloadEnable=!1,location.reload()},setWallpaper:function(e){this.vue.configs.wallpaper=e},util:{isSet:function(e){return void 0!==e},isTrustedApp:function(e){return Yuri2.inArray(YL.static.trustedApps,e)},simpleMsg:function(e){layer&&layer.msg(e,{zIndex:19930012})},simpleConfirm:function(e,t){var n=layer.confirm(e,{skin:"yl",zIndex:19930010},function(){layer.close(n),t()})},onloadSafe:function(e){var t=window.onload;window.onload="function"==typeof t?function(){t(),e()}:e},loadScript:function(e,t){var n=document.createElement("script");n.type="text/javascript",void 0!==t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t(n))}:n.onload=function(){t(n)}),n.src=e,document.head.appendChild(n)},loadStyle:function(e,t){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,void 0!==t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==script.readyState||(n.onreadystatechange=null,t(n))}:n.onload=function(){t(n)}),document.head.appendChild(n)},loadContentFromUrl:function(e,t,n,i){var a;void 0===i&&(i=!0),t=t||"GET";try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){try{a=new XMLHttpRequest}catch(e){return null}}a.open(t,e),i&&a.setRequestHeader("Cache-Control","max-age=0"),a.onreadystatechange=function(){4===a.readyState&&(200===a.status?n(null,a.responseText):n(a.status,a.responseText))};try{a.send(null)}catch(e){n(e,"")}},loadPrefetch:function(e,t){var n=document.createElement("link");n.rel="prefetch",n.href=e;function i(){a||(a=!0,t(n))}var a=!1;void 0!==t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,i())}:n.onload=function(){i()}),setTimeout(function(){i()},1e3),document.head.appendChild(n)},getID:function(){return window.YL.vue.configs.idCounter+++""},getRandomColor:function(){return"rgb("+Yuri2.randInt(0,200)+","+Yuri2.randInt(0,200)+","+Yuri2.randInt(0,200)+")"},dataCopy:function(e){e=e?YL.vue.$data[e]:YL.vue.$data;return Yuri2.jsonDeepCopy(e)},getAppDataTemplate:function(){return{addressBar:!1,autoRun:0,background:!1,badge:0,desc:"",icon:{type:"fa",content:"wpforms",bg:YL.util.getRandomColor()},openMode:"normal",plugin:!1,position:{autoOffset:!0,left:!0,top:!0,x:"x*0.05",y:"y*0.05"},version:"1.0.0",poweredBy:"",resizable:!0,single:!1,size:{height:"y*0.8-80",width:"x*0.8"},title:"",url:"",customTile:"",urlRandomToken:!0}},getAppByWinId:function(e){e=YL.vue.wins[e].app;return e="string"==typeof e?YL.vue.apps[e]:e},_winZIndexMax:0,getBiggerWinZIndex:function(){return this._winZIndexMax++,this._winZIndexMax},setWinZIndexMax:function(e){this._winZIndexMax=e},strTofunction:function strTofunction(str){return eval("("+str+")")},iframeOnClick:{resolution:200,iframes:[],interval:null,Iframe:function(){this.element=arguments[0],this.cb=arguments[1],this.hasTracked=!1,this.id=arguments[2]},track:function(e,t,n){var i;this.iframes.push(new this.Iframe(e,t,n)),this.interval||((i=this).interval=setInterval(function(){i.checkClick()},this.resolution))},checkClick:function(){if(document.activeElement){var e,t=document.activeElement;for(e in this.iframes){var n=this.iframes[e].id;document.getElementById(n)?t===this.iframes[e].element?!1===this.iframes[e].hasTracked&&(this.iframes[e].cb.apply(window,[]),this.iframes[e].hasTracked=!0):this.iframes[e].hasTracked=!1:delete this.iframes[e]}}}},_iframe_click_lock_children:{},imgUrlToThemeColor:function(e,c,d){d=d||1;var p=new Image;p.src=e,p.crossOrigin="anonymous",p.onload=function(){try{var e=document.createElement("canvas");e.width=p.width,e.height=p.height;var t=e.getContext("2d");t.drawImage(p,0,0);for(var n=t.getImageData(0,0,p.width,p.height).data,i=0,a=0,o=0,r=0,s=p.width*p.height,l=0,u=n.length;l<u;l+=4)i+=n[l],a+=n[l+1],o+=n[l+2],r+=n[l+3];i=parseInt(i/s*d),a=parseInt(a/s*d),o=parseInt(o/s*d),r=1;c&&c("rgba("+i+","+a+","+o+","+r+")")}catch(e){console.warn(e)}}},imgUrlToSize:function(e,t){var n=new Image;n.src=e,n.onload=function(){t&&t({width:n.width,height:n.height})}},randInt:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},getFileUrl:function(e){var t;return 1<=navigator.userAgent.indexOf("MSIE")?t=document.getElementById(e).value:(0<navigator.userAgent.indexOf("Firefox")||0<navigator.userAgent.indexOf("Chrome"))&&(t=window.URL.createObjectURL(document.getElementById(e).files.item(0))),t},getBase64Image:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height);e=e.src.substring(e.src.lastIndexOf(".")+1).toLowerCase();return t.toDataURL("image/"+e)},enableFullScreen:function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&document.body.msRequestFullscreen()},disableFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},updateUrlRandomToken:function(e,t,n){var i={};return i[t=t||"ylrandomToken"]=n||this.randInt(1e3,9999),this.urlParams(e,i)},removeUrlRandomToken:function(e,t){t=t||"ylrandomToken";var n,i=Yuri2.parseURL(e),a="?",o=0;for(n in i.params)n!==t&&(o++,a+=n+"="+i.params[n]+"&");return i.protocol+"://"+i.host+(80===i.port?"":":"+i.port)+i.path+(a=!o?"":a)+(i.hash?"#"+i.hash:"")},artificiallyResize:function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},urlParams:function(e,t,n){var i=Yuri2.parseURL(e);t&&(i.params=Yuri2.jsonMerge(i.params,t)),n&&(i.hash=n);var a,o="?",r=0;for(a in i.params)r++,o+=a+"="+i.params[a]+"&";return i.protocol+"://"+i.host+(80!==i.port&&i.port?":"+i.port:"")+i.path+(o=!r?"":o)+(i.hash?"#"+i.hash:"")},getStrFa:function(e,t){return"<i class='fa fa-fw fa-"+e+"'></i>"+((t=void 0===t?!0:t)?" ":"")},hasApp:function(e){var t="",t="string"==typeof e?e:e.app;return this.isSet(YL.vue.apps[t])}},child:{getID:function(){return YL.util.getID()},getVersion:function(){return YL.info.version},refresh:function(e,t){e=e||t,YL.vue.winRefresh(e)},setWinData:function(e,t){var n=YL.vue;if(n.wins[t])for(var i in e)n.$set(n.wins[t],i,e[i])},getRuntime:function(){return YL.vue.runtime},getConfigs:function(){return YL.vue.configs},getWinData:function(e,t){t=YL.vue.wins[t];return t?Yuri2.jsonDeepCopy(t):null},setWallpaper:function(e,t){return YL.setWallpaper(e)},setThemeColor:function(e,t){return YL.setThemeColor(e)},open:function(e,t){return Yuri2.isArray(e)?YL.open(e[0],e[1]):YL.open(e)},close:function(e,t){YL.vue.winClose(e||t)},minimize:function(e,t){YL.vue.winMinimize(e||t)},maximize:function(e,t){YL.vue.winMaximize(e||t)},hide:function(e,t){YL.vue.winMinimize(e||t)},show:function(e,t){YL.vue.winShow(e||t),YL.vue.winSetActive(e||t)},restore:function(e,t){YL.vue.winRestore(e||t)},msg:function(e){YL.msg(e[0],e[1])},simpleMsg:function(e){YL.util.simpleMsg(e)},setAppBadge:function(e,t){var n=YL.vue,t=Yuri2.isArray(e)?n.apps[e[0]]:YL.util.getAppByWinId(t),e=Yuri2.isArray(e)?n.apps[e[1]]:e;return!!t&&(t.badge=e,!0)},getAppVersion:function(e,t){t=e||YL.util.getAppByWinId(t);return t?t.version:null},setup:function(l,u){YL.util.simpleConfirm(YL.lang("ChildMethodSetupConfirm"),function(){var e=YL.vue;if(l.apps)for(var t in l.apps){var n=l.apps[t];YL.addApp(t,n)}if(l.shortcuts&&l.shortcuts.forEach(function(e){YL.util.hasApp(e)&&YL.addShortcut(e)}),l.sidebar&&l.sidebar.forEach(function(e){YL.util.hasApp(e)&&YL.addSidebarBtn(e)}),l.tiles&&l.tiles.forEach(function(e){YL.util.hasApp(e)&&YL.addTile(e)}),l.menu){var i=!1,a=function e(t){if(t.open=!1,t.hash||(t.hash=""),t.params||(t.params={}),t.children)for(var n in t.children)e(t.children[n]);else YL.util.hasApp(t)||(i=!0)};if(!i)for(var o in l.menu){var r=l.menu[o];a(r),e.$set(e.startMenu.menu,o,r)}}var s=e.wins[u];YL.msg(YL.lang("ChildMethodSetupSuccessMsgTitle"),YL.lang("ChildMethodSetupSuccessMsgContent")+s.url)})},uninstall:function(t,n){YL.util.simpleConfirm(YL.lang("ChildMethodUninstallConfirm"),function(){var e=[];"string"==typeof t?e.push(t):e=t,e.forEach(function(e){YL.uninstall(e)});e=v.wins[n];YL.msg(YL.lang("ChildMethodUninstallSuccessMsgTitle"),YL.lang("ChildMethodUninstallSuccessMsgContent")+e.url)})},import:function(e,t){return!!YL.util.isTrustedApp(YL.vue.wins[t].app)&&(YL.import(e),!0)},export:function(e,t){return!!YL.util.isTrustedApp(YL.vue.wins[t].app)&&YL.export()},eval:function _eval(data,id){return YL.util.isTrustedApp(YL.vue.wins[id].app)?eval(data):!1},urlRel:function(e,t){var n=YL.vue.wins[t],i=n.history;n.urlBar=e;var a,o=i.urls.length-1;o===i.pos?i.urls[o]!==e&&(i.urls.push(e),i.pos++):(a=i.pos+1,t=i.pos-1,n=i.pos,o=i.urls[a],t=i.urls[t],n=i.urls[n],o!==e&&t!==e&&n!==e&&(i.urls.splice(a,999),i.urls.push(e),i.pos++))},historyBack:function(e,t){var n=e||t,e=YL.vue.wins[n],t=e.history;this.historyBackAvailable(n)&&(e.url=e.urlBar=t.urls[--t.pos])},historyBackAvailable:function(e,t){t=YL.vue.wins[e||t].history;return 0<t.pos&&t.urls[t.pos-1]},historyForward:function(e,t){var n=e||t,e=YL.vue.wins[n],t=e.history;this.historyForwardAvailable(n)&&(e.url=e.urlBar=t.urls[++t.pos])},historyForwardAvailable:function(e,t){e=YL.vue.wins[e||t].history,t=e.urls.length-1;return e.pos<t&&e.urls[e.pos+1]}}},YL.util.onloadSafe(function(){YL.util.loadScript("./configs.js",function(){"auto"===YL.static.lang.toLocaleLowerCase()&&(YL.static.lang=(navigator.language||navigator.browserLanguage).toLowerCase());var fnLoadResFromText=function fnLoadResFromText(text){var json,json=eval("("+text+")");YL.static.languages[YL.static.lang]=json,YL.loadRes()};YL.util.loadContentFromUrl("./langs/"+YL.static.lang+".json","GET",function(e,t){e?(YL.static.lang="en",YL.util.loadContentFromUrl("./langs/"+YL.static.lang+".json","GET",function(e,t){fnLoadResFromText(t)})):fnLoadResFromText(t)})})});