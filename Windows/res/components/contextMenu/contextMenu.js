"use strict";function _typeof3(e){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof3(e)})(e)}window.ContextMenu={_className:"yuri2-context-menu",_stopProp:function(e){e.cancelable&&(e.defaultPrevented||e.preventDefault()),e.stopImmediatePropagation(),e.stopPropagation()},_getMainContent:function(e){return e.replace(/<\/?.+?>/g,"")},render:function(e,t,l,c){c=c||"";var d,u,a=e.clientX,s=e.clientY;this._stopProp(e),this._removeContextMenu(),!0!==t&&("object"===(void 0===t?"undefined":_typeof3(t))&&0===t.length&&(t=[["..."]]),d=$("<div class='"+ContextMenu._className+" "+c+"'><ul></ul></div>"),$("body").append(d),u=d.find("ul"),a+150>document.body.clientWidth&&(a-=150,u.addClass("left")),t.forEach(function(e){var t,n,o,i;"|"===e?u.append($("<hr/>")):"string"==typeof e?u.append($('<li><div class="title" title="'+ContextMenu._getMainContent(e)+'">'+e+"</div></li>")):"object"===(void 0===e?"undefined":_typeof3(e))&&(t=$('<li><div class="title '+(!0===e[2]?"disable":"")+'" title="'+ContextMenu._getMainContent(e[0])+'">'+e[0]+"</div></li>"),u.append(t),"object"===_typeof3(e[1])?(n=$("<div class='sub "+ContextMenu._className+" "+c+"'></div>"),o=$("<ul></ul>"),t.addClass("sub"),n.append(o),a+300>document.body.clientWidth&&n.addClass("left"),t.append(n),i=-1,e[1].forEach(function(e){var t;"|"===e?o.append($("<hr/>")):"string"==typeof e?(o.append($('<li><div class="title" title="'+ContextMenu._getMainContent(e)+'">'+e+"</div></li>")),i++):"object"===(void 0===e?"undefined":_typeof3(e))&&(t=$('<li><div class="title '+(!0===e[2]?"disable":"")+'" title="'+ContextMenu._getMainContent(e[0])+'">'+e[0]+"</div></li>"),o.append(t),!0!==e[2]&&(t.click(l,e[1]),t.click(function(){ContextMenu._removeContextMenu()})),i++)}),s+d.height()>document.body.clientHeight&&0<document.body.clientHeight&&n.css("top","-"+30*i+"px")):"function"==typeof e[1]&&!0!==e[2]&&(t.click(l,e[1]),t.click(function(){ContextMenu._removeContextMenu()})))}),s+d.height()>document.body.clientHeight&&0<document.body.clientHeight&&(s-=d.height()),d.css({top:s,left:a}))},_removeContextMenu:function(){$("."+ContextMenu._className).remove()}},$(document).click(function(e){$(e.target).hasClass(ContextMenu._className)||0<$(e.target).parents("."+ContextMenu._className).length||ContextMenu._removeContextMenu()});